{
  "services": {
    "devcontainer": {
      "command": "sh -exc 'while sleep 1m; do :; done'",
      "image": "public.ecr.aws/acilearning/haskell:9.6.1",
      "init": true,
      "volumes": [
        ".:/workspaces/monadoc",
        "./volumes/cabal/cache:/home/vscode/.cache/cabal",
        "./volumes/cabal/state:/home/vscode/.local/state/cabal",
      ],
      "working_dir": "/workspaces/monadoc"
    },
    "monadoc": {
      "command": "sh -exc 'cabal update; cabal test; cabal run -- monadoc --host-preference 0 +RTS -K1k -M1g'",
      "extends": {
        "service": "devcontainer"
      },
      "ports": [
        "3000:3000"
      ]
    }
  }
}
